<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Planet and Black Hole Simulator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

        body {
            margin: 0;
            overflow: hidden;
            background-color: black;
            font-family: 'Montserrat', sans-serif;
        }

        .ui-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(20, 20, 20, 0.9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            font-size: 14px;
            max-width: 300px;
        }

        h2 {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .slider-container,
        .dropdown-container,
        .color-picker-container {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 700;
            margin-bottom: 8px;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #555;
            outline: none;
            transition: all 0.3s ease;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #00bcd4;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        select,
        input[type="color"] {
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            border: none;
            background: #333;
            color: white;
            font-size: 14px;
        }
    </style>
</head>

<body>
    <div class="ui-panel">
        <h2>3D Simulator</h2>
        <div class="slider-container">
            <label for="mass">Mass (Earth Masses): <span id="mass-value">1.0</span></label>
            <input type="range" id="mass" min="0.1" max="100" step="0.1" value="1.0">
        </div>
        <div class="slider-container">
            <label for="temperature">Temperature (K): <span id="temperature-value">288</span></label>
            <input type="range" id="temperature" min="50" max="1000" step="10" value="288">
        </div>
        <div class="color-picker-container">
            <label for="accretion-color">Accretion Disk Color:</label>
            <input type="color" id="accretion-color" value="#ff4500">
        </div>
        <div class="slider-container">
            <label for="disk-speed">Disk Rotation Speed: <span id="disk-speed-value">1.0</span></label>
            <input type="range" id="disk-speed" min="0.1" max="5" step="0.1" value="1.0">
        </div>
        <div class="status" id="status">Status: Planet Mode</div>
    </div>

    <script>
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // Create light
        const light = new THREE.PointLight(0xffffff, 1, 100);
        light.position.set(10, 10, 10);
        scene.add(light);

        // Create planet and black hole objects
        const planetMaterial = new THREE.MeshPhongMaterial({ color: 0x3498db });
        const planet = new THREE.Mesh(new THREE.SphereGeometry(1, 32, 32), planetMaterial);
        scene.add(planet);

        const blackHole = new THREE.Mesh(new THREE.SphereGeometry(0.5, 32, 32), new THREE.MeshBasicMaterial({ color: 0x000000 }));
        blackHole.visible = false;
        scene.add(blackHole);

        // Create particle system for accretion disk
        const accretionDiskGeometry = new THREE.BufferGeometry();
        const particles = [];
        for (let i = 0; i < 5000; i++) {
            const angle = Math.random() * 2 * Math.PI;
            const radius = 2 + Math.random() * 0.5;
            particles.push(
                Math.cos(angle) * radius,
                0,
                Math.sin(angle) * radius
            );
        }
        accretionDiskGeometry.setAttribute('position', new THREE.Float32BufferAttribute(particles, 3));
        const accretionDiskMaterial = new THREE.PointsMaterial({ size: 0.02, color: 0xff4500 });
        const accretionDisk = new THREE.Points(accretionDiskGeometry, accretionDiskMaterial);
        accretionDisk.visible = false;
        scene.add(accretionDisk);

        camera.position.z = 5;

        // UI elements
        const massSlider = document.getElementById("mass");
        const temperatureSlider = document.getElementById("temperature");
        const accretionColorPicker = document.getElementById("accretion-color");
        const diskSpeedSlider = document.getElementById("disk-speed");
        const massValue = document.getElementById("mass-value");
        const temperatureValue = document.getElementById("temperature-value");
        const diskSpeedValue = document.getElementById("disk-speed-value");
        const statusDisplay = document.getElementById("status");

        function updateScene() {
            const mass = parseFloat(massSlider.value);
            const accretionColor = accretionColorPicker.value;
            const diskSpeed = parseFloat(diskSpeedSlider.value);

            massValue.textContent = mass.toFixed(1);
            diskSpeedValue.textContent = diskSpeed.toFixed(1);

            if (mass > 50) {
                // Black hole mode
                planet.visible = false;
                blackHole.visible = true;
                accretionDisk.visible = true;
                accretionDiskMaterial.color.set(accretionColor);
                statusDisplay.textContent = "Status: Black Hole Mode";
            } else {
                // Planet mode
                planet.visible = true;
                blackHole.visible = false;
                accretionDisk.visible = false;
                planetMaterial.color.set(0x3498db);
                planet.scale.set(mass / 10, mass / 10, mass / 10);
                statusDisplay.textContent = "Status: Planet Mode";
            }
        }

        function animate() {
            requestAnimationFrame(animate);
            if (accretionDisk.visible) {
                accretionDisk.rotation.y += parseFloat(diskSpeedSlider.value) * 0.01;
            }
            planet.rotation.y += 0.01;
            blackHole.rotation.y += 0.01;
            renderer.render(scene, camera);
        }

        massSlider.addEventListener("input", updateScene);
        temperatureSlider.addEventListener("input", updateScene);
        accretionColorPicker.addEventListener("input", updateScene);
        diskSpeedSlider.addEventListener("input", updateScene);

        updateScene();
        animate();
    </script>
</body>

</html>
